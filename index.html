<!DOCTYPE html>
<html lang="vi" class="">
   <head>
      <meta charset="utf-8">
      <title>Gallery =_=</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script>window.loadTurnstile = new Promise(resolve => { window.onloadTurnstileCallback = function () { resolve(); delete window.onloadTurnstileCallback; delete window.loadTurnstile; } })</script>
      <meta name="referrer" content="no-referrer">
      <meta name="description" content="The tool helps to find the exact source of images and videos with just 1 click. See a collection of beautiful girl photos, anime, hentai, cosplay, 18+ full HD continuously updated">
      <link rel="preload" as="style" href="./assets/nuxt/styles.css">
      <link rel="prefetch" href="LINK_LOCAL_PREFETCH">
      <link rel="stylesheet" href="./assets/nuxt/styles.css">
      <style>
         /* Ẩn div vô hình */
         #hidden-image-content {
             display: none;
         }
     </style>
   </head>
   <body>
      <div id="nuxt">
         <section class="el-container is-vertical">
            <header class="el-header border-b border-b-gray-500" style="">
               <div class="flex h-full items-center">
                  <a href="/" class=""><img src="./assets/images/saucemoe.png" alt="MeoDen.net" title="MeoDen.net" class="w-36 object-contain"></a>
                  <div class="flex-grow"></div>
                  <button class="el-button is-circle" aria-disabled="false" type="button" style="">
                     <i class="el-icon" style="">
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                           <path fill="currentColor" d="M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"></path>
                        </svg>
                     </i>
                  </button>
               </div>
               <span></span>
            </header>
            <main class="el-main">
               <div class="flex flex-col">
                  <div class="el-radio-group mb-3" role="radiogroup" aria-label="radio-group" id="radio-group">
                     <label class="el-radio-button is-active el-radio-button--large">
                         <input class="el-radio-button__original-radio" value="HT" type="radio" name="el-id-10000-0" checked="">
                         <span class="el-radio-button__inner">Hentai</span>
                     </label>
                     <label class="el-radio-button el-radio-button--large">
                         <input class="el-radio-button__original-radio" value="EC" type="radio" name="el-id-10000-0">
                         <span class="el-radio-button__inner">Ecchi</span>
                     </label>
                     <label class="el-radio-button el-radio-button--large">
                         <input class="el-radio-button__original-radio" value="SA" type="radio" name="el-id-10000-0">
                         <span class="el-radio-button__inner">Safe</span>
                     </label>
                 </div>
                  
                  <div class="flex justify-center mx-auto my-3">
                     <div id="__clb-1977157"></div>
                  </div>
                  <div role="pagination" aria-label="pagination" class="el-pagination is-background flex justify-center mb-5">
                     <a href="#" id="pre-chapter" class="btn-prev is-first btn-a" aria-disabled="true" onclick="loadPrePage();">
                         <i class="el-icon">
                             <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                                 <path fill="currentColor" d="M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"></path>
                             </svg>
                         </i>
                     </a>
                     
                     <span class="el-pagination__jump">
                         <span class="el-pagination__goto">Go to</span>
                         <div class="el-input el-input--default el-pagination__editor is-in-pagination" style="">
                             <div class="el-input__wrapper">
                                 <input class="el-input__inner" min="1" max="375299968947542" type="number" autocomplete="off" tabindex="0" id="page-input" value="1" onkeydown="handleKeyDown(event)">
                             </div>
                         </div>
                         <span class="el-pagination__classifier"></span>
                     </span>
                     
                     <a href="#" id="next-chapter" class="btn-prev is-last btn-a" aria-disabled="true" onclick="loadNextPage();">
                         <i class="el-icon">
                             <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                                 <path fill="currentColor" d="M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"></path>
                             </svg>
                         </i>
                     </a>
                 </div>
                  <div id="image-content" class="columns-1 sm:columns-2 md:columns-3 lg:columns-3 xl:columns-3 2xl:columns-3 gap-2 mb-5">
                  </div>
                  <div id="hidden-image-content" class="columns-1 sm:columns-2 md:columns-3 lg:columns-3 xl:columns-3 2xl:columns-3 gap-2 mb-5"></div>
                  <br />
                  <div class="flex justify-center mx-auto my-3">
                     <div id="__clb-1977159"></div>
                  </div>
                  <div role="pagination" aria-label="pagination" class="el-pagination is-background flex justify-center mb-5">
                     <a href="#" id="pre-chapter" class="btn-prev is-first btn-a" aria-disabled="true" onclick="loadPrePage();">
                         <i class="el-icon">
                             <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                                 <path fill="currentColor" d="M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"></path>
                             </svg>
                         </i>
                     </a>
                     
                     <span class="el-pagination__jump">
                         <span class="el-pagination__goto">Go to</span>
                         <div class="el-input el-input--default el-pagination__editor is-in-pagination" style="">
                             <div class="el-input__wrapper">
                                 <input class="el-input__inner" min="1" max="375299968947542" type="number" autocomplete="off" tabindex="0" id="page-input-2" value="1" onkeydown="handleKeyDown(event)">
                             </div>
                         </div>
                         <span class="el-pagination__classifier"></span>
                     </span>
                     
                     <a href="#" id="next-chapter" class="btn-prev is-last btn-a" aria-disabled="true" onclick="loadNextPage();">
                         <i class="el-icon">
                             <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                                 <path fill="currentColor" d="M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"></path>
                             </svg>
                         </i>
                     </a>
                 </div>
               </div>
            </main>
         </section>
      </div>
      <script>
         const tailApis = {
            HT: '&tag=rating:explicit',  // Replace with the actual URL
            EC: '&tag=rating:questionable',   // Replace with the actual URL
            SA: 'tag=rating:safe'    // Replace with the actual URL
         };
         function getPageNumber() {
             const pageInput = document.getElementById('page-input');
             return parseInt(pageInput.value) || 1; // Default to page 1 if input is invalid
         }
     
         function handleKeyDown(event) {
             if (event.key === 'Enter') {
                 const page = getPageNumber();
                 getGallery(page);
             }
         }
     
         function fetchGalleryData(page, div_id) {
            const selectedRadio = document.querySelector('input[name="el-id-10000-0"]:checked');
            const selectedValue = selectedRadio.value;

            const tailApi = tailApis[selectedValue];
             const apiUrl = `https://api.allorigins.win/get?url=${encodeURIComponent('https://meoden.net/api/gallery/yandere?page=' + page + tailApi)}`;
         
             fetch(apiUrl)
                 .then(response => {
                     if (!response.ok) {
                         throw new Error('Network response was not ok');
                     }
                     return response.json();
                 })
                 .then(data => {
                     if (data.status && data.contents) {
                         try {
                             const contentsArray = JSON.parse(data.contents);
                             const originalUrls = contentsArray.map(item => item.originalUrl);
                             const modifiedUrls = originalUrls.map(url => url.replace('https://files.yande.re/image/', 'https://files.yande.re/sample/'));
                             insertImages(modifiedUrls, div_id);
                         } catch (error) {
                             console.error('Error parsing JSON:', error);
                         }
                     } else {
                         console.error('Data structure is not as expected');
                     }
                 })
                 .catch(error => {
                     console.error('There has been a problem with your fetch operation:', error);
                 });
         }
     
         function insertImages(urls, divId) {
             const imageContentDiv = document.getElementById(divId);
             urls.forEach(url => {
                 const img = document.createElement('img');
                 img.alt = 'Img' + divId;
                 img.title = 'Img';
                 img.src = url;
                 img.className = 'el-image__inner el-image__preview';
                 imageContentDiv.appendChild(img);
             });
         }
     
         function fetchGallery(page, div_id) {
            console.log('Get img form page '+page+" vao trong "+div_id)
             page = page - 1;
             fetchGalleryData(page * 4 + 1, div_id);
             fetchGalleryData(page * 4 + 2, div_id);
             fetchGalleryData(page * 4 + 3, div_id);
             fetchGalleryData(page * 4 + 4, div_id);
         }
     
         async function loadNextPage() {
            console.log("load next page")
             const nextPage = getPageNumber() + 1;
             const currentContent = document.getElementById('image-content');
     
             currentContent.innerHTML = '';
     
             const hiddenContent = document.getElementById('hidden-image-content');
             currentContent.innerHTML = hiddenContent.innerHTML;
             hiddenContent.innerHTML = '';
     
             // Fetch the next page
             console.log("get next image")
             await fetchGallery(nextPage+1, 'hidden-image-content');
     
             // Update the input field to show the next page
             document.getElementById('page-input').value = nextPage;
             document.getElementById('page-input-2').value = nextPage;
             window.scrollTo(0, 0);
         }
     
         function loadPrePage() {
             const prePage = getPageNumber() - 1;
             document.getElementById('page-input').value = prePage;
            document.getElementById('page-input-2').value = prePage;

            const currentContent = document.getElementById('image-content');
            currentContent.innerHTML = '';

            const hiddenDiv = document.getElementById('hidden-image-content');
            hiddenDiv.innerHTML = '';

             getGallery(prePage)
         }
         function getGallery(page) {
            window.scrollTo(0, 0);
            const currentContent = document.getElementById('image-content');
            
            document.getElementById('page-input').value = page;
            document.getElementById('page-input-2').value = page;
            currentContent.innerHTML = '';
            const hiddenDiv = document.getElementById('hidden-image-content');
            hiddenDiv.innerHTML = '';
            
             fetchGallery(page, 'image-content');
             fetchGallery(page + 1, 'hidden-image-content');
         }
     
         // Initial load
         window.onload = () => getGallery(1);
     </script>
    
     <script>
         document.addEventListener('keydown', (e) => {
             if (e.target.nodeName !== 'INPUT' && e.target.nodeName !== 'TEXTAREA' && e.target.isContentEditable !== true) {
                 const t = e.which || e.keyCode;
                 const n = document.getElementById("pre-chapter");
                 const o = document.getElementById("next-chapter");
 
                 switch (t) {
                     case 37: // Phím mũi tên trái
                         if (n) {
                             loadPrePage()
                         }
                         break;
                     case 39: // Phím mũi tên phải
                         if (o) {
                           loadNextPage()
                         }
                         break;
                 }
             }
         });
     </script>
   </body>
</html>
